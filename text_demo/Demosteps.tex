\vspace{-.5cm}
\section{Tool Demonstration}
\label{sec:demo}
\vspace{-.3cm}
In this section, we discuss the main steps of the process that need to be
followed for synthesizing the EARS-CTRL specification into a controller and
validating if the controller behaves as expected.
\vspace{-.3cm}
\subsection{Glossary building and terms definition}
\vspace{-.2cm}
The first step towards writing the controller specifications in natural
language using \textsf{EARS-CTRL} is to define the glossary terms. 
The user is provided with an editor
(figure~\ref{fig:glossary_def}) to define glossary terms for:
1) components that interface with the controller; 2) sensors and actuators those
components make available to the controller and 3) invariant relations
that should hold between the sensor and actuator signals and aliases to
formulas involving sensors or actuators for ease of writing.
\vspace{-.2cm}
\begin{figure*}[!h]
\centering
\includegraphics[width=1\textwidth]{./images/QC_Glossary_Def.png}
\caption{Step-by-step glossary building for a Quiz Controller: (\emph{A})
components definition, (\emph{B}) sensors definition, (\emph{C}) actuators
definition and (\emph{D}) completed QC glossary}
\label{fig:glossary_def}
\vspace{-.6cm}
\end{figure*}
\subsection{Building \textsf{EARS-CTRL} requirements for the Quiz Controller}
\vspace{-.2cm}
The user is provided with an editor built in MPS \cite{mps} to specify the
controller behavior. Figure~\ref{fig:EARS_req} provides step-by-step guidance to
write the EARS requirements. In the projectional editor the user is provided with the option
(i.e., using \emph{CTRL+Space} keys of the keyboard) to instantiate the
EARS-based template with placeholders (\emph{Step A}). After obtaining an
instance of the EARS template, the user fills in the placeholders with
information coming from the glossary definitions (\emph{Step B}). \emph{Step C}
of the figure~\ref{fig:EARS_req} depicts a complete Quiz Controller specification.
\begin{figure*}[!h]
\centering
\includegraphics[width=1.2\textwidth]{./images/Req_Spec_Steps.png}
\caption{Step-by-step \textsf{EARS-CTRL} for controller requirements, (\emph{A})
empty instance of EARS template with placeholders, (\emph{B}) filling instance
of an EARS template with information and (\emph{C}) completed EARS Specification
}
\label{fig:EARS_req}
\vspace{-.6cm}
\end{figure*}
\vspace{-.2cm}
\subsection{Synthesizing \textsf{EARS-CTRL} requirements}
\label{SynthReq}
\vspace{-.3cm}
Once the requirements for controller are completely specified, the user can
attempt to synthesize the controller. For that, the user can apply the
\emph{Transform} intention (i.e., by using the \emph{Alt+Enter} keys) on the root of the specification (as
shown in \emph{part A} of figure~\ref{fig:Spec_transform}). The generated outputs after applying the
intention are comprised of: 1) the \emph{Controller Holder},
\emph{Synchronized Data Flow} (SFD) diagram with blocks and wires
(\emph{part B} of figure~\ref{fig:Spec_transform}); 2) the \emph{Gate Descriptors}, pseudo
code representing the behavior of each of the blocks used by the synthesized controller (\emph{part C} of
figure~\ref{fig:Spec_transform}); 3) automatically generated Simulink block
diagram (\emph{part D} of
figure~\ref{fig:Spec_transform}); and 4) empty panel for performing simulation
and test cases generation (\emph{part E} of
figure~\ref{fig:Spec_transform}).
%\vspace{-.7cm}
\begin{figure*}[!h]
\centering
\includegraphics[width=1\textwidth]{./images/Transform.png}
\caption{Controller generation steps: (\emph{A}) applying intention \emph{Alt+Enter},
(\emph{B}) synchronized DFD of the controller (an excerpt), (\emph{C}) pseudo
code representing the behavior of the blocks (an excerpt), (\emph{D})
generated Simulink model (an excerpt) and (\emph{E})
generated empty panel for simulation}
\label{fig:Spec_transform}
\end{figure*}
\vspace{-.5cm}
\subsection{Simulation and Test Cases for Validation of Controller Behavior}
\vspace{-.2cm}
Validation of the generated controller to check if it behaves as expected can be
performed using following techniques: 1) simulating the behavior of the
controller step-by-step; and 2) automatically generating the test cases.
The resulting traces from simulation or test generation are analyzed in order to
check if the controller behaves as expected.
\vspace{-.3cm}
\subsubsection{Simulation}
\vspace{-.2cm}
In order to perform simulation of the generated controller, the user gets the
\textsf{EARS-CTRL} panel (i.e., as a result of applying the \emph{Transform}
intention in section~\ref{SynthReq}) that allows the user to
simulate the controller by providing a sequence of inputs manually.
Figure~\ref{fig:SimulationSteps} shows a panel where outputs (i.e., the results)
can be viewed in a tabular view provided to the user. A \textsf{“Reset Results”}
button enables the user to reset the controller to its initial state. 
\begin{figure*}[!h]
\centering
\includegraphics[width=.9\textwidth]{./images/simulation.png}
\caption{A panel for simulation of the generated controller for validation}
\label{fig:SimulationSteps}
\vspace{-.6cm}
\end{figure*}
%\vspace{-.3cm}
\subsubsection{Automatic Test Cases Generation} 
\vspace{-.5cm}
The user can automatically generate test cases
(figure~\ref{fig:TestCaseGeneration}) by setting in the testing parameters.
For the test case generation, the user inputs the
parameters in the \textsf{EARS-CTRL} panel.
The parameters required for test case generation are as follows, 1) \textsf{Test
Sequence Length(integer value)}, 2) \textsf{Allow parallel inputs(true/false)} and 3) \textsf{Allow repeated inputs (true/false)}.